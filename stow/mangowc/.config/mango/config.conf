# Autostart
exec-once=~/.config/mango/autostart.sh

####################
## WINDOW EFFECTS
####################
# Blur
blur=0
blur_layer=0
blur_optimized=1
blur_params_num_passes = 2
blur_params_radius = 5
blur_params_noise = 0.02
blur_params_brightness = 0.9
blur_params_contrast = 0.9
blur_params_saturation = 1.2
# Shadows
shadows = 0
layer_shadows = 0
shadow_only_floating = 1
shadows_size = 10
shadows_blur = 15
shadows_position_x = 0
shadows_position_y = 0
shadowscolor= 0x000000ff
# Border
border_radius=3
no_radius_when_single=0
# Opacity
focused_opacity=1.0
unfocused_opacity=0.85

####################
## ANIMATIONS
####################
animations=1
layer_animations=1
tag_animation_direction=0
# Animation Type
animation_type_open=zoom
animation_type_close=slide
# Fade In/Out Animation
animation_fade_in=1
animation_fade_out=1
# Zoom Ratio
zoom_initial_ratio=0.5
zoom_end_ratio=1.0
# Fade In/Out Opacity
fadein_begin_opacity=0.7
fadeout_begin_opacity=0.9
# Animation Duration
animation_duration_move=200
animation_duration_open=200
animation_duration_tag=200
animation_duration_close=100
# Easing Curves
animation_curve_open=0.33,1.0,0.68,1
animation_curve_move=0.33,1.0,0.68,1
animation_curve_tag=0.33,1.0,0.68,1
animation_curve_close=0.33,0.68,0,1

####################
## SCROLLER LAYOUT
####################
scroller_structs=20
scroller_default_proportion=1.0
scroller_focus_center=0
scroller_prefer_center=0
edge_scroller_pointer_focus=0
scroller_default_proportion_single=1.0
scroller_proportion_preset=0.5,0.75,0.9,1.0

####################
## MASTER-STACK LAYOUT
####################
new_is_master=1
default_mfact=0.55
default_nmaster=1
smartgaps=0

####################
## OVERVIEW
####################
enable_hotarea=0
hotarea_size=10
ov_tab_mode=0
overviewgappi=10
overviewgappo=50

####################
## MISC
####################
no_border_when_single=0
axis_bind_apply_timeout=100
focus_on_activate=1
inhibit_regardless_of_visibility=0
sloppyfocus=1
warpcursor=1
focus_cross_monitor=0
focus_cross_tag=0
enable_floating_snap=0
snap_distance=30
cursor_size=24
drag_tile_to_tile=1
view_current_to_back=0

####################
## KEYBOARD
####################
repeat_rate=25
repeat_delay=600
numlockon=1
xkb_rules_layout=us

####################
# TRACKPAD (need relogin to make it apply)
####################
disable_trackpad=0
tap_to_click=1
tap_and_drag=1
drag_lock=1
trackpad_natural_scrolling=1
disable_while_typing=1
left_handed=0
middle_button_emulation=0
swipe_min_threshold=1

####################
## MOUSE (need relogin to make it apply)
####################
mouse_natural_scrolling=0

####################
## APPEARANCE
####################
gappih=2
gappiv=2
gappoh=5
gappov=5
scratchpad_width_ratio=0.8
scratchpad_height_ratio=0.9
borderpx=2
rootcolor=0x201b14ff
bordercolor=0x444444ff
focuscolor=0xd76035ff
maxmizescreencolor=0x89aa61ff
urgentcolor=0xad401fff
scratchpadcolor=0x516c93ff
globalcolor=0xb153a7ff
overlaycolor=0x14a57cff

####################
## LAYOUT SUPPORT
####################
# layout support:
# tile,scroller,grid,deck,monocle,center_tile,vertical_tile,vertical_scroller
tagrule=id:1,layout_name:scroller
tagrule=id:2,layout_name:scroller
tagrule=id:3,layout_name:scroller
tagrule=id:4,layout_name:scroller
tagrule=id:5,layout_name:scroller
tagrule=id:6,layout_name:scroller
tagrule=id:7,layout_name:scroller
tagrule=id:8,layout_name:scroller
tagrule=id:9,layout_name:scroller

####################
## KEY BINDINGS
####################
# key name refer to `xev` or `wev` command output,
# mod keys name: super,ctrl,alt,shift,none

# System
bind=SUPER+SHIFT,r,reload_config
bind=SUPER,l,spawn,hyprlock
# Launch Apps
bind=SUPER,Return,spawn,kitty
bind=SUPER,N,spawn,thunar
bind=SUPER,space,spawn,rofi -show drun
bind=SUPER,b,spawn,vivaldi-stable
# ALT Keys
bind=SUPER+ALT,m,spawn,kitty --title=rmpc -e rmpc
bind=SUPER+ALT,n,spawn,kitty --title=yazi -e yazi
bind=SUPER+ALT,z,spawn,kitty --title=zellij -e zellij -l welcome
bind=SUPER+ALT,space,spawn_shell,~/dotfiles/scripts/rofi/systemmenu.sh
bind=SUPER+ALT,c,spawn_shell,cliphist list | rofi -dmenu | cliphist decode | wl-copy
# Scripts
bind=SUPER+ALT,p,spawn_shell,~/dotfiles/scripts/rofi/walpicker-pywal.sh
bind=SUPER+ALT,w,spawn_shell,~/dotfiles/scripts/waybar/waybarrestart.sh

# Window Management
bind=SUPER,q,killclient,
bind=SUPER+SHIFT,f,togglefullscreen,
bind=SUPER,v,togglefloating,
bind=SUPER+SHIFT,v,focusstack

# Switch window focus
bind=SUPER,Left,focusdir,left
bind=SUPER,Right,focusdir,right
bind=SUPER,Up,focusdir,up
bind=SUPER,Down,focusdir,down

# swap window
bind=SUPER+SHIFT,Up,exchange_client,up
bind=SUPER+SHIFT,Down,exchange_client,down
bind=SUPER+SHIFT,Left,exchange_client,left
bind=SUPER+SHIFT,Right,exchange_client,right

# Switch window status
bind=SUPER,g,toggleglobal,
bind=SUPER,o,toggleoverlay,
bind=SUPER+CTRL,a,togglemaxmizescreen,
bind=SUPER+CTRL,f,togglefakefullscreen,
bind=SUPER,i,minimized,
bind=SUPER+SHIFT,I,restore_minimized

# Scroller layout
bind=SUPER,f,set_proportion,1.0
bind=SUPER,r,switch_proportion_preset,

# Switch layout
bind=SUPER+SHIFT,l,switch_layout
# Set specific layout
bind=SUPER+SHIFT,t,setlayout,tile
bind=SUPER+SHIFT,s,setlayout,scroller

# Toggle Overview
bind=SUPER,Tab,toggleoverview

####################
## TAG BINDINGS
####################
# view: tag switch
bind=SUPER,1,view,1,0
bind=SUPER,2,view,2,0
bind=SUPER,3,view,3,0
bind=SUPER,4,view,4,0
bind=SUPER,5,view,5,0
bind=SUPER,6,view,6,0
bind=SUPER,7,view,7,0
bind=SUPER,8,view,8,0
bind=SUPER,9,view,9,0
bind=SUPER,Page_Up,viewtoleft,0
bind=SUPER,Page_Down,viewtoright,0
# tag: move client to the tag and focus it
# tagsilent: move client to the tag and not focus it
bind=SUPER+SHIFT,1,tag,1,0
bind=SUPER+SHIFT,2,tag,2,0
bind=SUPER+SHIFT,3,tag,3,0
bind=SUPER+SHIFT,4,tag,4,0
bind=SUPER+SHIFT,5,tag,5,0
bind=SUPER+SHIFT,6,tag,6,0
bind=SUPER+SHIFT,7,tag,7,0
bind=SUPER+SHIFT,8,tag,8,0
bind=SUPER+SHIFT,9,tag,9,0
bind=SUPER+SHIFT,Page_Up,tagtoleft,0
bind=SUPER+SHIFT,Page_Down,tagtoright,0

####################
## HARDWARE KEY BINDINGS
####################
bind=NONE,XF86AudioRaiseVolume,spawn,~/dotfiles/scripts/dunst/changeVolume +5%
bind=NONE,XF86AudioLowerVolume,spawn,~/dotfiles/scripts/dunst/changeVolume -5%
bind=NONE,XF86AudioMute,spawn,~/dotfiles/scripts/dunst/changeVolume toggle
bind=NONE,XF86MonBrightnessUp,spawn, brightnessctl s 10%+
bind=NONE,XF86MonBrightnessDown,spawn, brightnessctl s 10%-
bind=NONE,XF86AudioNext,spawn, playerctl next
bind=NONE,XF86AudioPrev,spawn, playerctl previous
bind=NONE,XF86AudioPlay,spawn, playerctl play-pause
bind=NONE,XF86AudioStop,spawn, playerctl stop
bind=NONE,XF86PowerOff,spawn,~/dotfiles/scripts/rofi/powermenu.sh

####################
## MOUSE BINDINGS
####################
# NONE mode key only work in ov mode
mousebind=SUPER,btn_left,moveresize,curmove
mousebind=NONE,btn_middle,togglemaxmizescreen,0
mousebind=SUPER,btn_right,moveresize,curresize
mousebind=NONE,btn_left,toggleoverview,-1
mousebind=NONE,btn_right,killclient,0

####################
## AXIS BINDINGS
####################
axisbind=SUPER,UP,viewtoleft_have_client
axisbind=SUPER,DOWN,viewtoright_have_client

###################
## SWITCH BINDINGS
###################
switchbind=fold,spawn,hyprlock

####################
## LAYER RULES
####################
layerrule=animation_type_open:zoom,layer_name:rofi
layerrule=animation_type_close:zoom,layer_name:rofi

####################
## WINDOW RULES
####################
# WEB
windowrule=tags:1,appid:^(vivaldi.*)
windowrule=tags:1,title:rmpc
# # DEV
# windowrule=tags:2,appid:kitty,title:kitty
# windowrule=tags:2,appid:kitty,title:zellij
# # FILES
# windowrule=tags:3,appid:thunar,scroller_proportion:0.5
# windowrule=tags:3,appid:org.gnome.Nautilus,scroller_proportion:0.5
# windowrule=tags:3,appid:org.gnome.Loupe
# windowrule=tags:3,appid:org.localsend.localsend_app,scroller_proportion:0.5
# windowrule=tags:3,appid:^(libreoffice.*)
# # MEDIA
# windowrule=tags:4,appid:vlc
# windowrule=tags:4,appid:mpv
# windowrule=tags:4,appid:Spotify
# windowrule=tags:4,appid:org.musicbrainz.Picard
# windowrule=tags:4,appid:com.github.iwalton3.jellyfin-media-player
# # COMMUNICATION
# windowrule=tags:5,appid:org.telegram.desktop
# windowrule=tags:5,appid:zoom
# windowrule=tags:5,appid:teams-for-linux
# # GAMES
# windowrule=tags:6,appid:steam
# windowrule=tags:6,appid:net.lutris.Lutris
# windowrule=tags:6,appid:heroic
# windowrule=tags:6,appid:com.vysp3r.ProtonPlus
# # UTILITIES
# windowrule=tags:7,appid:YACReaderLibrary
# windowrule=tags:7,appid:YACReader
# windowrule=tags:7,appid:virt-manager
# windowrule=tags:7,appid:org.gnome.Boxes
# windowrule=tags:7,appid:comictagger
# windowrule=tags:7,appid:fdm

# Floating Apps
windowrule=isfloating:1,appid:blueman-manager,width:320,height:320
windowrule=isfloating:1,appid:blueman-services
windowrule=isfloating:1,appid:^(pcmanfm), title:(?i).*Removable.*, width:400,height:400
windowrule=isfloating:1,appid:^(pcmanfm), title:(?i).*File Operation Progress.*, width:513,height:104
windowrule=isfloating:1,title:(?i).*directory.*
windowrule=isfloating:1,title:(?i).*Open File.*, width:1000,height:600
windowrule=isfloating:1,title:(?i).*Select Folder.*, width:1000,height:600
windowrule=isfloating:1,appid:xarchiver,width:1000,height:600
windowrule=isfloating:1,appid:org.gnome.FileRoller,width:1000,height:600
windowrule=isfloating:1,appid:org.gnome.Calculator
